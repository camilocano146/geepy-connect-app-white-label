<ion-header>
    <ion-toolbar color="tertiary">
<!--        <ion-button slot="start" fill="clear" style="z-index: 100;" (click)="goToHome()">-->
<!--            <ion-icon style="color: white !important;" name="home"></ion-icon>-->
<!--        </ion-button>-->
        <ion-title style="padding-right: 0px !important; padding-left: 0px;" style="color: white !important;;">{{'simcard.data.settings.data.title' | translate}}</ion-title>
        <ion-buttons slot="start" fill="outline" style="color: white !important; font-size: 20px; margin-left: 15px;" (click)="dismiss()">
            <ion-icon name="arrow-back-outline"></ion-icon>
        </ion-buttons>
    </ion-toolbar>
</ion-header>
<ion-content>
    <div class="background-all"></div>
    <ion-grid>
        <ion-row class="ion-justify-content-center">
            <ion-col size="12" style="text-align: center !important; font-size: 16px; font-weight: bold;">
                <img *ngIf="!sim_current.qr_esim" src="../../../../assets/img/simcard.svg" height="80px" alt="">
                <img *ngIf="sim_current.qr_esim" [src]="sim_current.qr_esim" height="120px" style="margin-top: 0px;" alt="" (click)="openPhotoViewer()">
            </ion-col>
            <ion-col size="12" style="text-align: center !important; font-size: 16px; font-weight: bold;">
                <!--                {{this.preload_permissions}}-->
                <ion-label class="full-width"><strong>ICCID: </strong><label style="color: #737373;">{{sim_current.iccid}}</label></ion-label>
            </ion-col>
            <ion-col size="12">
                <mat-accordion>
                    <!--         Detalles           -->
                    <mat-expansion-panel [ngStyle]="{'display':show_details == true ? 'block' : 'none' }" expanded>
                        <mat-expansion-panel-header class="panel-header">
                            <mat-panel-title>
                                <label class="title-panel">{{'simcard.data.settings.data.details' | translate}}</label>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="container-cards">
                            <ion-card *ngIf="preload_simcard == false" style="margin-top: 10px;" class="card-info">
                                <ion-card-header>
                                    <ion-card-title class="center title-card-sim-details"><strong>{{'simcard.data.settings.data.data_used' | translate}}</strong></ion-card-title>
                                </ion-card-header>
                                <ion-card-content>
                                    <ion-grid *ngIf="!simCurrent?.card_stat?.discount || simCurrent?.card_stat?.discount == null">
                                        <ion-row>
                                            <ion-col size="12" style="text-align: center !important;">
                                                <ion-label style="font-size: 18px; font-weight: bold;" color="warning"><strong>{{'simcard.data.settings.data.no_data_currently' | translate}}</strong></ion-label>
                                            </ion-col>
                                        </ion-row>
                                    </ion-grid>
                                    <ion-grid *ngIf="simCurrent?.card_stat?.discount ">
                                        <ion-row *ngIf="simCurrent?.card_stat?.discount?.gprs" class="ion-justify-content-center">
                                            <ion-col size="12" style="text-align: center !important;">
                                                <ion-label color="primary"><strong>{{'simcard.data.settings.data.data' | translate}}: </strong>{{simCurrent?.card_stat?.discount?.gprs?.init_volume | number : '1.1-1'}} MB </ion-label>
                                            </ion-col>
                                            <ion-col size="12" style="text-align: center !important;">
                                                <ion-label color="success"><strong>{{'simcard.data.settings.data.avaiable' | translate}}: </strong>{{simCurrent?.card_stat?.discount?.gprs?.left_volume | number : '1.1-1'}} MB </ion-label>
                                            </ion-col>
                                            <ion-col size="12" style="text-align: center !important;">
                                                <ion-label color="danger"><strong>{{'simcard.data.settings.data.spended' | translate}}: </strong>{{leftData | number : '1.1-1'}} MB </ion-label>
                                            </ion-col>
                                        </ion-row>
                                        <ion-row *ngIf="!simCurrent?.card_stat?.discount?.gprs">
                                            <ion-col size="12" *ngIf="!simCurrent?.card_stat?.discount?.gprs" style="text-align: center !important;">
                                                <ion-label style="font-size: 18px; font-weight: bold;" color="warning"><strong>{{'simcard.data.settings.data.no_data_currently' | translate}}</strong></ion-label>
                                            </ion-col>
                                        </ion-row>
                                    </ion-grid>
                                </ion-card-content>
                            </ion-card>
                            <ion-spinner *ngIf="preload_simcard" name="crescent"></ion-spinner>
                            <ion-card *ngIf="preload_simcard && sim_current" style="margin-top: 10px;" class="card-info">
                                <ion-card-header>
                                    <ion-card-title class="center title-card-sim-details"><strong>{{'simcard.data.settings.data.title_card_information' | translate}}</strong></ion-card-title>
                                </ion-card-header>
                                <ion-card-content>
                                    <ion-grid>
                                        <ion-row class="ion-justify-content-center">
                                            <ion-col size="12" *ngIf="simCurrent == null" style="text-align: center !important; font-size: 18px; font-weight: bold;">
                                                <ion-label *ngIf="sim_current.status == 1" color="primary"><strong>{{'simcard.data.settings.data.activated' | translate}}</strong></ion-label>
                                                <ion-label *ngIf="sim_current.status == 2" color="warning"><strong>{{'simcard.data.settings.data.suspended' | translate}}</strong></ion-label>
                                                <ion-label *ngIf="sim_current.status == 3" color="danger"><strong>{{'simcard.data.settings.data.deleted' | translate}}</strong></ion-label>
                                            </ion-col>
                                            <ion-col size="12" *ngIf="simCurrent != null" style="text-align: center !important; font-size: 18px; font-weight: bold;">
                                                <ion-label *ngIf="simCurrent?.card_stat?.card?.blocked == 'false'" color="primary"><strong>{{'simcard.data.settings.data.activated' | translate}}</strong></ion-label>
                                                <ion-label *ngIf="simCurrent?.card_stat?.card?.blocked == 'true'" color="warning"><strong>{{'simcard.data.settings.data.suspended' | translate}}</strong></ion-label>
                                            </ion-col>
                                            <ion-col size="12" style="text-align: center !important;">
                                                <strong style="color: black !important;">IMSI:</strong><label style="color: #737373;">{{sim_current.imsi}}</label>
                                            </ion-col>
                                            <ion-col size="12" style="text-align: center !important;">
                                                <strong style="color: black !important;">MSISDN:</strong><label style="color: #737373;">{{sim_current.msisdn}}</label>
                                            </ion-col>
                                            <ion-col size="12" style="text-align: center !important;">
                                                <strong style="color: black !important;">ICCID:</strong><label style="color: #737373;">{{sim_current.iccid}}</label>
                                            </ion-col>
                                        </ion-row>
                                    </ion-grid>
                                </ion-card-content>
                            </ion-card>
                            <ion-card *ngIf="preload_package == false && package" style="margin-top: 10px;" class="card-info">
                                <ion-card-header>
                                    <ion-card-title class="center title-card-sim-details"><strong>{{'simcard.data.settings.data.title_card_plan' | translate}}</strong></ion-card-title>
                                </ion-card-header>
                                <ion-card-content>
                                    <ion-grid>
                                        <ion-row class="ion-justify-content-center">
                                            <ion-col size="12" style="text-align: center !important;">
                                                <ion-label *ngIf="!package.type" color="success" style="font-size: 18px; font-weight: bold;"><strong>{{package.text}}</strong></ion-label>
                                                <ion-label *ngIf="package.type" color="success" style="font-size: 18px; font-weight: bold;"><strong>{{package.type}}</strong></ion-label>
                                            </ion-col>
                                            <ion-col *ngIf="package.type" size="12" style="text-align: center !important;">
                                                <strong style="color: black !important;">{{'simcard.data.settings.data.plan_data' | translate}}:</strong><label style="color: #737373;">{{package.amount}} MB</label>
                                            </ion-col>
                                            <ion-col *ngIf="package.type" size="12" style="text-align: center !important;">
                                                <strong style="color: black !important;">{{'simcard.data.settings.data.plan_cost' | translate}}:</strong><label style="color: #737373;">{{package.cost | currency}}</label>
                                            </ion-col>
                                        </ion-row>
                                    </ion-grid>
                                </ion-card-content>
                            </ion-card>
                            <ion-card *ngIf="preload_conectivity == false && preload_events == false && conectivity && lastEvents" style="margin-top: 10px;" class="card-info">
                                <ion-card-header>
                                    <ion-card-title class="center title-card-sim-details"><strong>{{'simcard.data.settings.data.title_card_connectivity' | translate}}</strong></ion-card-title>
                                </ion-card-header>
                                <ion-card-content>
                                    <ion-grid>
                                        <ion-row *ngIf="!conectivity.get_lu" class="ion-justify-content-center">
                                            <ion-col size="12" style="text-align: center !important;">
                                                <ion-label color="danger" style="font-size: 18px; font-weight: bold;"><strong>OFFLINE</strong></ion-label>
                                            </ion-col>
                                        </ion-row>
                                        <ion-row *ngIf="conectivity.get_lu" class="ion-justify-content-center">
                                            <ion-col size="12" style="text-align: center !important;">
                                                <ion-label color="success" style="font-size: 18px; font-weight: bold;"><strong>ONLINE</strong></ion-label>
                                                <ion-label color="success" *ngIf="conectivity.get_lu.gprs_lu_first" style="font-size: 18px; font-weight: bold;"><strong> / 4G</strong></ion-label>
                                            </ion-col>
                                            <ion-col *ngIf="lastEvents.get_last_activity.data" size="12" style="text-align: center !important;">
                                                <ion-label *ngIf="lastEvents.get_last_activity.data.country != null" color="primary"><strong>{{lastEvents.get_last_activity.data.country}} / {{lastEvents.get_last_activity.data.operator}}</strong></ion-label>
                                            </ion-col>
                                        </ion-row>
                                    </ion-grid>
                                </ion-card-content>
                            </ion-card>
                            <ion-card *ngIf="preload_simcard == false" style="margin-top: 10px;" class="card-info">
                                <ion-card-header>
                                    <ion-card-title class="center title-card-sim-details"><strong>{{'simcard.data.settings.data.title_card_end_point' | translate}}</strong></ion-card-title>
                                </ion-card-header>
                                <ion-card-content>
                                    <ion-grid>
                                        <ion-row *ngIf="preload_endpoint == false" class="ion-justify-content-center">
                                            <ion-col *ngIf="endpoint.endpoint == null" size="12" style="text-align: center !important;">
                                                <ion-label color="warning">{{'simcard.data.settings.data.with_out_end_point' | translate}}</ion-label>
                                            </ion-col>
                                            <ion-col *ngIf="endpoint.endpoint != null" size="12" style="text-align: center !important;">
                                                <ion-label><strong style="color: black;">{{'simcard.data.settings.data.name_end_point' | translate}}: </strong></ion-label>
                                            </ion-col>
                                            <ion-col *ngIf="endpoint.endpoint != null" size="12" style="text-align: center !important; font-size: 18px; font-weight: bold;">
                                                <ion-label color="primary"><strong>{{endpoint.endpoint}}</strong></ion-label>
                                            </ion-col>
                                        </ion-row>
                                    </ion-grid>
                                </ion-card-content>
                            </ion-card>
                            <ion-spinner *ngIf="preload_conectivity || preload_events || preload_package || preload_simcard" name="crescent"></ion-spinner>
                        </div>
                    </mat-expansion-panel>
                    <!--Historico Llamadas-->
                    <mat-expansion-panel>
                        <mat-expansion-panel-header class="panel-header">
                            <mat-panel-title>
                                <label class="title-panel">{{'simcard.data.settings.history_calls.title' | translate}}</label>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="ion-text-center">
                            <ion-spinner *ngIf="preload_history_calls" name="crescent"></ion-spinner>
                        </div>
                        <div *ngIf="!preload_history_calls && historyCalls.length == 0" class="full-width center">
                            <ion-card style="background-color: white;">
                                <ion-grid>
                                    <ion-row>
                                        <ion-col size="12">
                                            <img src="../../../assets/img/ghost.svg" height="80px" alt="">
                                        </ion-col>
                                        <ion-col size="12">
                                            <ion-label>{{'simcard.data.settings.history_calls.no_data' | translate}}</ion-label>
                                        </ion-col>
                                    </ion-row>
                                </ion-grid>
                            </ion-card>
                        </div>
                        <div *ngIf="historyCalls.length > 0" class="container-cards">
                            <ion-label color="primary" style="font-size: 20px; margin-top: 15px !important; width: 100%; text-align: center">{{'simcard.data.settings.history_calls.duration_month_time' | translate}}</ion-label>
                            <ion-list lines="none" class="full-width mat-elevation-z4" style="border-bottom-width: 0px; border-radius: 5px; margin-top: 10px; margin-bottom: 10px;">
                                <ion-item>
                                    <div class="full-width center">
                                        <strong class="strong-text">{{getCallDuration()}} {{'simcard.data.settings.history_calls.minutes_label' | translate}}</strong>
                                    </div>
                                </ion-item>
                            </ion-list>
                            <div class="center" style="margin-top: 15px !important;">
                                <ion-label color="success" style="font-size: 20px;"><strong>{{'simcard.data.settings.history_calls.call_list' | translate}}</strong></ion-label>
                            </div>
                            <ion-card *ngFor="let item of historyCalls; let i = index" style="margin-top: 10px;" class="card-package">
                                <ion-card-header>
                                    <ion-card-title class="center title-card-sim-details">
                                        <strong>{{'simcard.data.settings.history_calls.call' | translate}} {{i+1}}</strong>
                                    </ion-card-title>
                                </ion-card-header>
                                <ion-card-content>
                                    <ion-grid>
                                        <ion-row class="ion-justify-content-center">
                                            <ion-col size="12" style="text-align: center !important; font-size: 18px; font-weight: bold;">
                                                <ion-label color="success">
                                                    <strong>{{'simcard.data.settings.history_calls.call_date' | translate}} </strong>
                                                    <strong class="strong-text">{{item.calldate | date}}</strong>
                                                </ion-label>
                                            </ion-col>
                                            <ion-col size="12" style="text-align: center !important; font-size: 18px; font-weight: bold;">
                                                <ion-label color="success">
                                                    <strong>{{'simcard.data.settings.history_calls.duration' | translate}} </strong>
                                                    <strong class="strong-text">{{item.duration}} </strong>
                                                    <strong class="strong-text">{{'simcard.data.settings.history_calls.seconds_label' | translate}}</strong>
                                                </ion-label>
                                            </ion-col>
                                            <ion-col size="12" style="text-align: center !important; font-size: 18px; font-weight: bold;">
                                                <ion-label color="success">
                                                    <strong>{{'simcard.data.settings.history_calls.origin_number' | translate}} </strong>
                                                    <strong class="strong-text">{{item.anum}}</strong>
                                                </ion-label>
                                            </ion-col>
                                            <ion-col size="12" style="text-align: center !important; font-size: 18px; font-weight: bold;">
                                                <ion-label color="success">
                                                    <strong>{{'simcard.data.settings.history_calls.destination_number' | translate}} </strong>
                                                    <strong class="strong-text">{{item.bnum}}</strong>
                                                </ion-label>
                                            </ion-col>
                                            <!--                                            <ion-col size="12" style="text-align: center !important; font-size: 18px; font-weight: bold;">-->
                                            <!--                                                <ion-label color="success">-->
                                            <!--                                                    <strong>{{'simcard.data.settings.history_calls.operator' | translate}} </strong>-->
                                            <!--                                                    <strong class="strong-text">{{item.adest}}</strong>-->
                                            <!--                                                </ion-label>-->
                                            <!--                                            </ion-col>-->
                                            <!--                                            <ion-col size="12" style="text-align: center !important; font-size: 18px; font-weight: bold;">-->
                                            <!--                                                <ion-label color="success">-->
                                            <!--                                                    <strong>{{'simcard.data.settings.history_calls.country_destination' | translate}} </strong>-->
                                            <!--                                                    <strong class="strong-text">{{item.rdest}}</strong>-->
                                            <!--                                                </ion-label>-->
                                            <!--                                            </ion-col>-->
                                        </ion-row>
                                    </ion-grid>
                                </ion-card-content>
                            </ion-card>
                        </div>
                    </mat-expansion-panel>
                    <!--Historico Pines-->
                    <mat-expansion-panel [ngStyle]="{'display':show_pins == true ? 'block' : 'none' }">
                        <mat-expansion-panel-header class="panel-header">
                            <mat-panel-title>
                                <label class="title-panel">{{'simcard.data.settings.history_pins.title' | translate}}</label>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="ion-text-center">
                            <ion-spinner *ngIf="preload_history_pins" name="crescent"></ion-spinner>
                        </div>
                        <div *ngIf="!preload_history_pins && historyPins.length == 0" class="full-width center">
                            <ion-card style="background-color: white;">
                                <ion-grid>
                                    <ion-row>
                                        <ion-col size="12">
                                            <img src="../../../assets/img/ghost.svg" height="80px" alt="">
                                        </ion-col>
                                        <ion-col size="12">
                                            <ion-label>{{'simcard.data.settings.history_pins.no_data' | translate}}</ion-label>
                                        </ion-col>
                                    </ion-row>
                                </ion-grid>
                            </ion-card>
                        </div>
                        <div *ngIf="historyPins.length > 0" class="container-cards">
                            <ion-card *ngFor="let item of historyPins; let i = index" style="margin-top: 10px;" class="card-package">
                                <ion-card-header>
                                    <ion-card-title class="center title-card-sim-details">
                                        <strong>{{'simcard.data.settings.history_pins.pin' | translate}} {{i+1}}</strong>
                                    </ion-card-title>
                                </ion-card-header>
                                <ion-card-content>
                                    <ion-grid>
                                        <ion-row class="ion-justify-content-center">
                                            <ion-col size="12" style="text-align: center !important; font-size: 18px; font-weight: bold;">
                                                <ion-label color="success">
                                                    <strong>{{'simcard.data.settings.history_pins.date_used' | translate}} </strong>
                                                    <strong class="strong-text">{{item.used | date}}</strong>
                                                </ion-label>
                                            </ion-col>
                                            <ion-col size="12" style="text-align: center !important; font-size: 18px; font-weight: bold;">
                                                <ion-label color="success">
                                                    <strong>{{'simcard.data.settings.history_pins.pin_type' | translate}} </strong>
                                                    <strong class="strong-text">{{item.pintype}}</strong>
                                                </ion-label>
                                            </ion-col>
                                            <ion-col size="12" style="text-align: center !important; font-size: 18px; font-weight: bold;">
                                                <ion-label color="success">
                                                    <strong>{{'simcard.data.settings.history_pins.amount' | translate}} </strong>
                                                    <strong class="strong-text">{{item.amount}} {{item.currency}}</strong>
                                                </ion-label>
                                            </ion-col>
                                        </ion-row>
                                    </ion-grid>
                                </ion-card-content>
                            </ion-card>
                        </div>
                    </mat-expansion-panel>
                    <!--Comprar Pin-->
                    <mat-expansion-panel [ngStyle]="{'display': show_pins == true ? 'block' : 'none' }">
                        <mat-expansion-panel-header class="panel-header">
                            <mat-panel-title>
                                <label class="title-panel">{{'simcard.data.settings.pins.data_purchase' | translate}}</label>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <ion-item style="border-radius: 5px;">
                            <ion-label>{{'simcard.data.settings.pins.currency' | translate}}</ion-label>
                            <ion-select (ionChange)="changeCurrencyTypePin()" placeholder="{{'simcard.data.settings.pins.select_one' | translate}}" [formControl]="formControlCurrencyTypePin" interface="action-sheet">
                                <ion-select-option *ngFor="let item of currencyTypesPin" [value]="item">{{item}}</ion-select-option>
                            </ion-select>
                        </ion-item>
                        <ion-item style="border-radius: 5px;">
                            <ion-label>{{'simcard.data.settings.pins.type_pin' | translate}}</ion-label>
                            <ion-select [disabled]="this.formControlCurrencyTypePin.invalid" placeholder="{{'simcard.data.settings.pins.select_one' | translate}}" [formControl]="formControlTypePin" interface="action-sheet">
                                <ion-select-option *ngFor="let item of getTypesOfPinByCurrency()" [value]="item.id">{{item.value}} {{item.currency}}</ion-select-option>
                            </ion-select>
                        </ion-item>
                        <div *ngIf="preload_typesPin" class="ion-text-center">
                            <ion-spinner name="crescent"></ion-spinner>
                        </div>
                        <div *ngIf="!preload_typesPin" class="center full-width">
<!--                            <mat-form-field class="w-75">-->
<!--                                <mat-label>{{'platform_two.pins.create_edit.type_pin' | translate}}</mat-label>-->
<!--                                <mat-select [formControl]="formControlTypePin">-->
<!--                                    <mat-option *ngFor="let item of typesPin" [value]="item.id">{{item.value}} {{item.currency}}-->
<!--                                    </mat-option>-->
<!--                                </mat-select>-->
<!--                                <mat-error *ngIf="formControlTypePin.invalid">{{'platform_two.pins.create_edit.selected' | translate}}</mat-error>-->
<!--                            </mat-form-field>-->
                            <ion-button class="w-50 mt-3" (click)="purchasePin()">{{'simcard.data.settings.pins.data_purchase' | translate}}</ion-button>
                        </div>
                        <div *ngIf="purchasedPin" class="mt-3">
                            <div class="ion-text-center">
                                <h5 style="color: orange;">{{'simcard.data.settings.pins.pin_show' | translate}}</h5>
                            </div>
                            <ion-row>
                                <ion-col size="10" class="ion-text-center">
<!--                                    <ion-label>{{purchasedPin}}</ion-label>-->
                                    <input style="width: 80%; text-align: center;" [readOnly]="true" #inputPurchasedPin type="text" [value]="purchasedPin">
                                </ion-col>
                                <ion-col size="2" style="display: flex; align-items: center;">
                                    <ion-icon style="transform: scale(2)" name="copy-outline" (click)="copyPurchasedPin(inputPurchasedPin)"></ion-icon>
                                </ion-col>
                            </ion-row>
                        </div>
                    </mat-expansion-panel>
                    <!--Activar Pin-->
                    <mat-expansion-panel [ngStyle]="{'display': show_pins == true ? 'block' : 'none' }">
                        <mat-expansion-panel-header class="panel-header">
                            <mat-panel-title>
                                <label class="title-panel">{{'simcard.data.settings.history_pins.activate' | translate}}</label>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <ion-label color="primary" style="font-size: 20px; margin-top: 15px !important; width: 100%; text-align: center; display: flex; justify-content: center;">{{'simcard.data.settings.history_pins.activate_message' | translate}}</ion-label>
                        <ion-item style="border-radius: 5px; margin-top: 10px; margin-bottom: 10px;">
                            <ion-icon name="barcode-outline" style="margin-right: 10px;"></ion-icon>
                            <ion-input type="number" [formControl]="formControlPinActivate" style="background-color: white; border-radius: 5px;"></ion-input>
                        </ion-item>
                        <div *ngIf="formControlPinActivate.invalid && formControlPinActivate.touched" class="full-width">
                            <ion-label class="full-width" style="font-size: 12px;" color="danger">{{getErrorMessagePinActivate()}}</ion-label>
                        </div>
                        <div class="center">
                            <ion-button color="primary" class="btn-buy-package mt-3" (click)="activatePin()">{{'simcard.data.settings.history_pins.activate' | translate}}</ion-button>
                        </div>
                    </mat-expansion-panel>
                    <!--Historico Packages-->
                    <mat-expansion-panel [ngStyle]="{'display':show_history == true ? 'block' : 'none' }">
                        <mat-expansion-panel-header class="panel-header">
                            <mat-panel-title>
                                <label class="title-panel">{{'simcard.data.settings.history_package.title' | translate}}</label>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="ion-text-center">
                            <ion-spinner *ngIf="preload_history" name="crescent"></ion-spinner>
                        </div>
                        <div *ngIf="!preload_history && historyPackage.length == 0" class="full-width center">
                            <ion-card style="background-color: white;">
                                <ion-grid>
                                    <ion-row>
                                        <ion-col size="12">
                                            <img src="../../../assets/img/ghost.svg" height="80px" alt="">
                                        </ion-col>
                                        <ion-col size="12">
                                            <ion-label>{{'simcard.data.settings.history_package.no_data' | translate}}</ion-label>
                                        </ion-col>
                                    </ion-row>
                                </ion-grid>
                            </ion-card>
                        </div>
                        <div *ngIf="historyPackage.length > 0" class="container-cards">
                            <ion-card *ngFor="let item of historyPackage" style="margin-top: 10px;" class="card-package">
                                <ion-card-header>
                                    <ion-card-title class="center title-card-sim-details"><strong></strong></ion-card-title>
                                </ion-card-header>
                                <ion-card-content>
                                    <ion-grid>
                                        <ion-row class="ion-justify-content-center">
                                            <ion-col size="12" style="text-align: center !important; font-size: 18px; font-weight: bold;">
                                                <ion-label color="primary"><strong>{{item.package.package_name}}</strong></ion-label>
                                            </ion-col>
                                            <ion-col size="12" style="text-align: center !important; font-size: 18px; font-weight: bold;">
                                                <ion-label color="success"><strong>{{'simcard.data.settings.history_package.date' | translate}}</strong></ion-label>
                                            </ion-col>
                                            <ion-col size="12" style="text-align: center !important; font-size: 18px;">
                                                <ion-label>{{item.activation_date | date}} </ion-label>
                                            </ion-col>
                                            <ion-col size="12" style="text-align: center !important; font-size: 18px; font-weight: bold;">
                                                <ion-label color="success"><strong>{{'simcard.data.settings.history_package.expire' | translate}}</strong></ion-label>
                                            </ion-col>
                                            <ion-col size="12" style="text-align: center !important; font-size: 18px;">
                                                <ion-label>{{calculateDateExpire(item) | date}}</ion-label>
                                            </ion-col>
                                            <ion-col size="12" style="text-align: center !important; font-size: 18px;">
                                                <ion-label color="success"><strong>{{'simcard.data.settings.history_package.vigency' | translate}}</strong></ion-label>
                                                <ion-label> {{item.package.validity_period_days}}</ion-label>
                                            </ion-col>
                                        </ion-row>
                                    </ion-grid>
                                </ion-card-content>
                            </ion-card>
                        </div>
                    </mat-expansion-panel>
                    <!--Paquetes-->
                    <mat-expansion-panel [ngStyle]="{'display':show_packages == true ? 'block' : 'none' }">
                        <mat-expansion-panel-header class="panel-header">
                            <mat-panel-title>
                                <label class="title-panel">{{'simcard.data.settings.package.title' | translate}}</label>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="ion-text-center">
                            <ion-spinner *ngIf="preload_avaiable_packages || preload_package" name="crescent"></ion-spinner>
                        </div>
                        <div *ngIf="preload_avaiable_packages == false && preload_package == false">
                            <ion-label color="primary" style="font-size: 20px; margin-top: 15px !important; width: 100%; text-align: center; display: flex; justify-content: center;">{{'simcard.data.settings.package.cupon' | translate}}</ion-label>
                            <ion-item style="border-radius: 5px; margin-top: 10px; margin-bottom: 10px;">
                                <ion-icon name="gift" style="margin-right: 10px;"></ion-icon>
                                <ion-input [formControl]="cupon" style="background-color: white; border-radius: 5px;"></ion-input>
                            </ion-item>
                            
                            <div *ngIf="cupon.invalid" class="full-width">
                                <ion-label class="full-width" style="font-size: 12px;" color="danger">{{'simcard.data.settings.package.error_cupon' | translate}}</ion-label>
                            </div>
                            <ion-label color="success" style="font-size: 20px; margin-top: 15px !important; display: flex; justify-content: center;"><strong>{{'simcard.data.settings.package.title_data' | translate}}</strong></ion-label>
                            <ion-card *ngIf="avaibalePackages?.getserviceoptions?.gprs?.activation_fee" style="margin-top: 10px;" class="card-package">
                                <ion-card-header>
                                    <ion-card-title class="center title-card-sim-details"><strong>{{'simcard.data.settings.package.package_code' | translate}}: {{avaibalePackages.getserviceoptions.gprs.package_code}}</strong></ion-card-title>
                                </ion-card-header>
                                <ion-card-content>
                                    <ion-grid>
                                        <ion-row class="ion-justify-content-center">
                                            <ion-col size="12" style="text-align: center !important; font-size: 18px; font-weight: bold;">
                                                <ion-label color="primary"><strong>{{avaibalePackages.getserviceoptions.gprs.package_name}}</strong></ion-label>
                                            </ion-col>
                                            <ion-col size="12" style="text-align: center !important; font-size: 18px; font-weight: bold;">
                                                <ion-label color="success"><strong>{{'simcard.data.settings.package.cost' | translate}}: </strong></ion-label>
                                                <ion-label>{{avaibalePackages?.getserviceoptions?.gprs?.activation_fee}} {{avaibalePackages.getserviceoptions.gprs.currency}}</ion-label>
                                            </ion-col>
                                            <ion-col size="12" style="text-align: center !important; font-size: 18px; font-weight: bold;">
                                                <ion-button>{{'simcard.data.settings.package.btn_buy' | translate}}</ion-button>
                                            </ion-col>
                                        </ion-row>
                                    </ion-grid>
                                </ion-card-content>
                            </ion-card>
                            <ion-item style="border-radius: 5px; margin-top: 10px; margin-bottom: 10px;">
                                <mat-form-field class="w-100">
                                    <mat-select [disableOptionCentering]="true" placeholder="Seleccione una locacion" [formControl]="formControlCountry" (selectionChange)="selectCountry($event.value)"> 
                                        <mat-option  disabled>
                                            <input type="search"
                                                placeholder="Buscar"
                                                class="form-control"
                                                (keyup)= "get_locations($event)"
                                                style="width: 100%;"
                                            >
                                        </mat-option>
                                        <mat-option >
                                            -------
                                        </mat-option>
                                        <mat-option *ngFor="let country of list_countries" [value]="country.id">
                                            {{country.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </ion-item>
                            <ion-item style="border-radius: 5px; margin-top: 10px; margin-bottom: 10px;">
                                <mat-form-field class="w-100">
                                    <mat-select [disableOptionCentering]="true" placeholder="Seleccione una zona" [formControl]="formControlZones" (selectionChange)="selectZones($event.value)"> 
                                        <mat-option>
                                            -------
                                        </mat-option>
                                        <mat-option *ngFor="let zone of list_zones" [value]="zone.id">
                                            {{zone.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </ion-item>
                            <div *ngIf="!avaibalePackages?.getserviceoptions?.gprs?.activation_fee" class="container-cards">
                                <ion-card *ngFor="let item of avaibalePackages?.getserviceoptions?.gprs" style="margin-top: 10px;" class="card-package">
                                    <ion-card-header>
                                        <ion-card-title class="center title-card-sim-details"><strong>{{'simcard.data.settings.package.package_code' | translate}}: {{item.package_code}}</strong></ion-card-title>
                                    </ion-card-header>
                                    <ion-card-content>
                                        <ion-grid>
                                            <ion-row class="ion-justify-content-center">
                                                <ion-col size="12" style="text-align: center !important; font-size: 18px; font-weight: bold;">
                                                    <ion-label color="primary"><strong>{{item?.package_name}}</strong></ion-label>
                                                </ion-col>
                                                <ion-col size="12" style="text-align: center !important; font-size: 18px; font-weight: bold;">
                                                    <ion-label color="success"><strong>{{'simcard.data.settings.package.cost' | translate}}: </strong></ion-label>
                                                    <ion-label>{{item?.activation_fee}} {{item?.currency}}</ion-label>
                                                </ion-col>
                                                <ion-col size="12" style="text-align: center !important; font-size: 18px; font-weight: bold;">
                                                    <ion-button *ngIf="package?.package_code != item?.package_code" (click)="activatePackage(item, item?.package_code, 'dailygprs')">{{'simcard.data.settings.package.btn_buy' | translate}}</ion-button>
                                                    <ion-button color="danger" *ngIf="package?.package_code == item?.package_code" (click)="cancelPackage(item?.package_code, 'dailygprs')">{{'simcard.data.settings.package.btn_cancel' | translate}}</ion-button>
                                                </ion-col>
                                            </ion-row>
                                        </ion-grid>
                                    </ion-card-content>
                                </ion-card>
                            </div>
                            <!--

                          -->
                            <ion-label color="warning" style="font-size: 20px; display: flex; justify-content: center;"><strong>{{'simcard.data.settings.package.title_location' | translate}}</strong></ion-label>
                            <ion-card *ngIf="avaibalePackages?.getserviceoptions?.lbs?.activation_fee" style="margin-top: 10px;" class="card-package">
                                <ion-card-header>
                                    <ion-card-title class="center title-card-sim-details"><strong>{{'simcard.data.settings.package.package_code' | translate}}: {{avaibalePackages?.getserviceoptions?.lbs?.activation_fee?.package_code}}</strong></ion-card-title>
                                </ion-card-header>
                                <ion-card-content>
                                    <ion-grid>
                                        <ion-row class="ion-justify-content-center">
                                            <ion-col size="12" style="text-align: center !important; font-size: 18px; font-weight: bold;">
                                                <ion-label color="primary"><strong>{{avaibalePackages?.getserviceoptions?.lbs?.activation_fee.package_name}}</strong></ion-label>
                                            </ion-col>
                                            <ion-col size="12" style="text-align: center !important; font-size: 18px; font-weight: bold;">
                                                <ion-label color="success"><strong>{{'simcard.data.settings.package.cost' | translate}}: </strong></ion-label>
                                                <ion-label>{{avaibalePackages?.getserviceoptions?.lbs?.activation_fee}} {{sim_current.account_top_connect.alias}}</ion-label>
                                            </ion-col>
                                            <ion-col size="12" style="text-align: center !important; font-size: 18px; font-weight: bold;">
                                                <ion-label color="danger"><strong>{{'simcard.data.settings.package.queries' | translate}}: </strong></ion-label>
                                                <ion-label>{{avaibalePackages?.getserviceoptions?.lbs?.amount_of_requests}}</ion-label>
                                            </ion-col>
                                        </ion-row>
                                    </ion-grid>
                                </ion-card-content>
                            </ion-card>
                            <div *ngIf="!avaibalePackages?.getserviceoptions?.lbs?.activation_fee" class="container-cards">
                                <ion-card *ngFor="let item of avaibalePackages?.getserviceoptions?.lbs" style="margin-top: 10px;" class="card-package">
                                    <ion-card-header>
                                        <ion-card-title class="center title-card-sim-details"><strong>{{'simcard.data.settings.package.package_code' | translate}}: {{item.package_code}}</strong></ion-card-title>
                                    </ion-card-header>
                                    <ion-card-content>
                                        <ion-grid>
                                            <ion-row class="ion-justify-content-center">
                                                <ion-col size="12" style="text-align: center !important; font-size: 18px; font-weight: bold;">
                                                    <ion-label color="success"><strong>{{'simcard.data.settings.package.cost' | translate}}: </strong></ion-label>
                                                    <ion-label>{{item?.activation_fee}} {{sim_current.account_top_connect.alias}}</ion-label>
                                                </ion-col>
                                                <ion-col size="12" style="text-align: center !important; font-size: 18px; font-weight: bold;">
                                                    <ion-label color="danger"><strong>{{'simcard.data.settings.package.queries' | translate}}: </strong></ion-label>
                                                    <ion-label>{{item?.amount_of_requests}}</ion-label>
                                                </ion-col>
                                            </ion-row>
                                        </ion-grid>
                                    </ion-card-content>
                                </ion-card>
                            </div>
                        </div>
                    </mat-expansion-panel>
                    <!--SMS-->
                    <mat-expansion-panel [ngStyle]="{'display':show_sms == true ? 'block' : 'none' }" style="padding: 0px !important;" id="panelsms">
                        <mat-expansion-panel-header class="panel-header">
                            <mat-panel-title>
                                <label class="title-panel">{{'simcard.data.settings.sms.title' | translate}}</label>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <ion-grid>
                            <ion-row>
                                <ion-col size="12" style="padding: 0px !important; margin-top: 10px; margin-bottom: 15px;">
                                    <ion-card style="margin: 0px; padding: 10px; background-color: white;">
                                        <ion-card-title class="center title-card-sim-details"><strong></strong></ion-card-title>
                                        <ion-grid>
                                            <ion-row>
                                                <ion-col size="6" style="text-align: left;" style="display: flex; align-items: center;">
                                                    <ion-label color="success" style="font-size: 20px; display: flex; align-items: center;"><strong>
                                                        SMS
                                                    </strong></ion-label>
                                                </ion-col>
                                                <ion-col size="6" style="text-align: right; display: flex; align-items: center; justify-content: flex-end;">
                                                    <ion-button style="text-transform: none;" (click)="openModalSendSMS()">
                                                        <ion-icon name="add-circle-outline" style="margin-right: 10px;"></ion-icon>
                                                        {{'simcard.data.settings.sms.new_sms' | translate}}
                                                    </ion-button>
                                                </ion-col>
                                            </ion-row>
                                            <ion-row>
                                                <ion-label style="font-size: 16px;"><strong>{{'simcard.data.settings.sms.total_sms' | translate}}</strong> {{listSMS.length}}</ion-label>
                                            </ion-row>
                                            <ion-row>
                                                <ion-col size="6" style="text-align: center;">
                                                    <ion-label color="primary"><strong>USD: </strong></ion-label>{{total_cost_usd | number : '1.1-1'}} <strong>$</strong>
                                                </ion-col>
                                                <ion-col size="6" style="text-align: center;">
                                                    <ion-label color="success"><strong>EUR: </strong></ion-label>{{total_cost_eur | number : '1.1-1'}} <strong>€</strong>
                                                </ion-col>
                                            </ion-row>
                                        </ion-grid>
                                    </ion-card>
                                </ion-col>
                                <ion-col size="12" style="padding: 0px !important;">
                                    <ion-list style="padding: 0px !important; border-radius: 5px;">
                                        <ion-item *ngFor="let item of listSMS" style="padding: 0px !important;" class="hover-item-sms" detail (click)="openModalSeeSMS(item)">
                                            <ion-label style="padding: 0px !important;" class="contenido">{{item.sms_text}}</ion-label>
                                        </ion-item>
                                    </ion-list>
                                </ion-col>
                            </ion-row>
                        </ion-grid>
                    </mat-expansion-panel>
                    <!--Location-->
                    <mat-expansion-panel [ngStyle]="{'display':show_location == true ? 'block' : 'none' }">
                        <mat-expansion-panel-header class="panel-header">
                            <mat-panel-title>
                                <label class="title-panel">{{'simcard.data.settings.location.title' | translate}}</label>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="ion-text-center">
                            <ion-spinner *ngIf="preload_avaiable_packages" name="crescent"></ion-spinner>
                        </div>
                        <div *ngIf="location_service_on == 1 && preload_avaiable_packages == false" class="container-cards" style="padding: 0px !important;">
                            <ion-card *ngFor="let item of avaibalePackages.getserviceoptions.lbs" style="margin-top: 10px;" class="card-info">
                                <ion-card-header>
                                    <ion-card-title class="center title-card-sim-details"><strong>{{'simcard.data.settings.location.package' | translate}} {{item.package_code}}</strong></ion-card-title>
                                </ion-card-header>
                                <ion-card-content>
                                    <ion-grid>
                                        <ion-row class="ion-justify-content-center">
                                            <ion-col size="12" style="text-align: center !important; font-size: 20px;">
                                                <strong>{{item?.amount_of_requests}} </strong>
                                                <ion-label color="primary"> {{'simcard.data.settings.location.queries' | translate}}!</ion-label>
                                            </ion-col>
                                            <ion-col size="12" style="text-align: center !important; font-size: 16px;">
                                                <ion-label color="success">{{'simcard.data.settings.location.cost' | translate}}: </ion-label><strong> {{item?.activation_fee}}</strong> {{sim_current.account_top_connect.alias}}
                                            </ion-col>
                                            <ion-col size="12" style="text-align: center;">
                                                <ion-button color="primary" style="text-transform: none;" (click)="activateLocationService(item.package_code)">
                                                    <ion-icon name="add-circle-outline" style="margin-right: 10px;"></ion-icon>
                                                    {{'simcard.data.settings.location.buy' | translate}}
                                                </ion-button>
                                            </ion-col>
                                        </ion-row>
                                    </ion-grid>
                                </ion-card-content>
                            </ion-card>
                            <ion-grid>
                                <ion-row>
                                    <ion-col size="12">
                                        <ion-label color="warning"><strong>{{'simcard.data.settings.location.note' | translate}}</strong></ion-label> {{'simcard.data.settings.location.p1' | translate}}
                                    </ion-col>
                                </ion-row>
                            </ion-grid>
                        </div>
                        <div *ngIf="location_service_on == 2" class="container-cards" style="padding: 0px !important;">
                            <ion-grid>
                                <ion-row>
                                    <ion-col size="6">
                                        <ion-button color="primary" style="text-transform: none;" (click)="obtainLocation()">
                                            <ion-icon name="search" style="margin-right: 10px;"></ion-icon>
                                            {{'simcard.data.settings.location.btn_search' | translate}}
                                        </ion-button>
                                    </ion-col>
                                    <ion-col size="6" style="display: flex; justify-content: center; align-items: center;">
                                        {{'simcard.data.settings.location.total_queries' | translate}}: {{location_status.records.record.queries_left}} / {{total_location_queries}}
                                    </ion-col>
                                </ion-row>
                            </ion-grid>
                            <agm-map *ngIf="!showHeat" [latitude]="lat" [longitude]="lng" [zoom]="4" (zoomChange)="zoomChange($event)">

                            </agm-map>
                            <agm-map *ngIf="showHeat" [latitude]="lat" [longitude]="lng" [zoom]="4" (mapReady)="onMapLoad($event)" (zoomChange)="zoomChange($event)">

                            </agm-map>
                            <ion-grid>
                                <ion-row>
                                    <ion-col size="12" style="text-align: center; color: gray; font-size: 11.25px !important;">
                                        {{'simcard.data.settings.location.note_2' | translate}}
                                    </ion-col>

                                </ion-row>
                            </ion-grid>
                        </div>
                    </mat-expansion-panel>
                    <!--Números Extra-->
                    <mat-expansion-panel [ngStyle]="{'display':show_settings == true ? 'block' : 'none' }">
                        <mat-expansion-panel-header class="panel-header">
                            <mat-panel-title>
                                <label class="title-panel">{{'simcard.data.settings.settings.buy_extra' | translate}}</label>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="ion-text-center">
                            <ion-spinner *ngIf="preload_simcard" name="crescent"></ion-spinner>
                        </div>
                        <ion-card *ngIf="simCurrent?.card_stat?.card?.enum ==  null" style="margin-top: 10px;" class="card-info">
                            <ion-card-header>
                                <ion-card-title class="center title-card-sim-details"><strong></strong></ion-card-title>
                            </ion-card-header>
                            <ion-card-content>
                                <ion-grid>
                                    <ion-row class="ion-justify-content-center">
                                        <ion-col size="12" style="text-align: center !important; font-size: 16px;">
                                            <strong>{{'simcard.data.settings.settings.buy_extra' | translate}}</strong>
                                        </ion-col>
                                        <ion-col size="12" style="text-align: center !important; font-size: 14px;">
                                            <ion-label *ngIf="sim_current.account_top_connect.alias == 'USD'">{{'simcard.data.settings.settings.buy_extra_usd' | translate}}</ion-label>
                                            <ion-label *ngIf="sim_current.account_top_connect.alias == 'EUR'">{{'simcard.data.settings.settings.buy_extra_eur' | translate}}</ion-label>
                                        </ion-col>
                                        <ion-col size="12" style="text-align: center !important; font-size: 16px;">
                                            <mat-form-field class="full-width">
                                                <mat-label>{{'simcard.data.settings.settings.numbers_avaiable' | translate}}</mat-label>
                                                <mat-select [formControl]="newNumber">
                                                    <mat-option *ngFor="let item of extraNumbersList" [value]="item.enum">
                                                        {{item.enum}} - {{item.countrie.code}}
                                                    </mat-option>
                                                </mat-select>
                                                <mat-error *ngIf="newNumber.invalid">{{getErrorMessageNew()}}
                                                </mat-error>
                                            </mat-form-field>
                                        </ion-col>
                                        <ion-button color="success" style="text-transform: none;" (click)="addNewNumber()">
                                            <ion-icon name="add-circle-outline" style="margin-right: 10px;"></ion-icon>
                                            {{'simcard.data.settings.settings.btn_buy_extra' | translate}}
                                        </ion-button>
                                    </ion-row>
                                </ion-grid>
                            </ion-card-content>
                        </ion-card>
                        <ion-card *ngIf="simCurrent?.card_stat?.card?.enum !=  null" style="margin-top: 10px;" class="card-info">
                            <ion-card-header>
                                <ion-card-title class="center title-card-sim-details"><strong></strong></ion-card-title>
                            </ion-card-header>
                            <ion-card-content>
                                <ion-grid>
                                    <ion-row class="ion-justify-content-center">
                                        <ion-col size="12" style="text-align: center !important; font-size: 16px;">
                                            <strong>{{'simcard.data.settings.settings.remove_extra' | translate}}</strong>
                                        </ion-col>
                                        <ion-col size="12" style="text-align: center !important; font-size: 14px;">
                                            {{'simcard.data.settings.settings.non_refundable' | translate}}
                                        </ion-col>
                                        <ion-col size="12" style="text-align: center !important; font-size: 14px;">
                                            <mat-form-field class="example-form-field full-width">
                                                <mat-label> {{'simcard.data.settings.settings.extra_number' | translate}}</mat-label>
                                                <input matInput type="text" [formControl]="number_to_delete" readonly>
                                            </mat-form-field>
                                        </ion-col>
                                        <ion-button color="warning" style="text-transform: none; color: black !important;" (click)="deleteNumber()">
                                            <ion-icon name="remove-circle-outline" style="margin-right: 10px;"></ion-icon>
                                            {{'simcard.data.settings.settings.remove_number' | translate}}
                                        </ion-button>
                                    </ion-row>
                                </ion-grid>
                            </ion-card-content>
                        </ion-card>
                    </mat-expansion-panel>
                    <!--Settings-->
                    <mat-expansion-panel [ngStyle]="{'display':show_settings == true ? 'block' : 'none' }">
                        <mat-expansion-panel-header class="panel-header">
                            <mat-panel-title>
                                <label class="title-panel">{{'simcard.data.settings.settings.title' | translate}}</label>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="ion-text-center">
                            <ion-spinner *ngIf="preload_simcard" name="crescent"></ion-spinner>
                        </div>
                        <div *ngIf="preload_simcard == false" class="container-cards">
                            <ion-card *ngIf="simCurrent?.card_stat?.card?.blocked == 'false'" style="margin-top: 10px;" class="card-info">
                                <ion-card-header>
                                    <ion-card-title class="center title-card-sim-details"><strong></strong></ion-card-title>
                                </ion-card-header>
                                <ion-card-content>
                                    <ion-grid>
                                        <ion-row class="ion-justify-content-center">
                                            <ion-col size="12" style="text-align: center !important; font-size: 16px;">
                                                {{'simcard.data.settings.settings.suspend' | translate}}
                                            </ion-col>
                                            <ion-col size="12" style="text-align: center;">
                                                <ion-button color="danger" style="text-transform: none;" (click)="blockSimcard()">
                                                    <ion-icon name="power" style="margin-right: 10px;"></ion-icon>
                                                    {{'simcard.data.settings.settings.btn_suspend' | translate}}
                                                </ion-button>
                                            </ion-col>
                                        </ion-row>
                                    </ion-grid>
                                </ion-card-content>
                            </ion-card>
                            <ion-card *ngIf="simCurrent?.card_stat?.card?.blocked == 'true'" style="margin-top: 10px;" class="card-info">
                                <ion-card-header>
                                    <ion-card-title class="center title-card-sim-details"><strong></strong></ion-card-title>
                                </ion-card-header>
                                <ion-card-content>
                                    <ion-grid>
                                        <ion-row class="ion-justify-content-center">
                                            <ion-col size="12" style="text-align: center !important; font-size: 16px;">
                                                {{'simcard.data.settings.settings.activate' | translate}}
                                            </ion-col>
                                            <ion-button color="success" style="text-transform: none;" (click)="unblockSimcard()">
                                                <ion-icon name="power" style="margin-right: 10px;"></ion-icon>
                                                {{'simcard.data.settings.settings.btn_activate' | translate}}
                                            </ion-button>
                                        </ion-row>
                                    </ion-grid>
                                </ion-card-content>
                            </ion-card>
                            <ion-card style="margin-top: 10px;" class="card-info">
                                <ion-card-header>
                                    <ion-card-title class="center title-card-sim-details"><strong></strong></ion-card-title>
                                </ion-card-header>
                                <ion-card-content>
                                    <ion-grid>
                                        <ion-row class="ion-justify-content-center">
                                            <ion-col size="12" style="text-align: center !important; font-size: 16px;">
                                                {{'simcard.data.settings.settings.reset' | translate}}
                                            </ion-col>
                                            <ion-button color="primary" style="text-transform: none;" (click)="reconect()">
                                                <ion-icon name="refresh" style="margin-right: 10px;"></ion-icon>
                                                {{'simcard.data.settings.settings.btn_reset' | translate}}
                                            </ion-button>
                                        </ion-row>
                                    </ion-grid>
                                </ion-card-content>
                            </ion-card>
                            <div class="ion-text-center">
                                <ion-spinner *ngIf="preload_endpoint" name="crescent"></ion-spinner>
                            </div>
                            <ion-card *ngIf="preload_endpoint == false" style="margin-top: 10px;" class="card-info">
                                <ion-card-header>
                                    <ion-card-title class="center title-card-sim-details"><strong></strong></ion-card-title>
                                </ion-card-header>
                                <ion-card-content>
                                    <ion-grid>
                                        <ion-row class="ion-justify-content-center">
                                            <ion-col size="12" style="text-align: center !important; font-size: 16px;">
                                                {{'simcard.data.settings.settings.customatize_sim' | translate}}
                                            </ion-col>
                                            <ion-col size="12" style="text-align: center !important; font-size: 14px;">
                                                <mat-form-field class="example-form-field full-width">
                                                    <input matInput type="text" [formControl]="value_endpoint">
                                                    <mat-error *ngIf="value_endpoint.invalid">{{getErrorMessage()}}</mat-error>
                                                </mat-form-field>
                                            </ion-col>
                                            <ion-button color="primary" style="text-transform: none; color: black !important;" (click)="updateEndpointName()" [disabled]="!(value_endpoint.valid && value_endpoint.value != sim_current.endpoint)">
                                                <ion-icon name="refresh" style="margin-right: 10px;"></ion-icon>
                                                {{'simcard.data.settings.settings.update_name' | translate}}
                                            </ion-button>
                                        </ion-row>
                                    </ion-grid>
                                </ion-card-content>
                            </ion-card>
                            <ion-card style="margin-top: 10px;" class="card-info">
                                <ion-card-header>
                                    <ion-card-title class="center title-card-sim-details"><strong></strong></ion-card-title>
                                </ion-card-header>
                                <ion-card-content>
                                    <ion-grid>
                                        <ion-row class="ion-justify-content-center">
                                            <ion-col size="12" style="text-align: center !important; font-size: 16px;">
                                                <strong>{{'simcard.data.settings.settings.delete_sim' | translate}}</strong>
                                            </ion-col>
                                            <ion-col size="12" style="text-align: center !important; font-size: 14px;">
                                                {{'simcard.data.settings.settings.delete_p1' | translate}}
                                            </ion-col>
                                            <ion-button color="danger" style="text-transform: none; color: black !important;" (click)="deleteSim()">
                                                <ion-icon name="trash" style="margin-right: 10px;"></ion-icon>
                                                {{'simcard.data.settings.settings.btn_delete' | translate}}
                                            </ion-button>
                                        </ion-row>
                                    </ion-grid>
                                </ion-card-content>
                            </ion-card>
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-content>
