<ion-header>
    <ion-toolbar color="dark">
        <ion-title style="color: white !important;">Payments</ion-title>
        <ion-button slot="end" fill="clear" (click)="settingsPopover($event)">
            <ion-icon style="color: white !important;" name="settings"></ion-icon>
        </ion-button>
    </ion-toolbar>
</ion-header>

<ion-content>
    <div class="background-all"></div>
    <ion-grid>
        <ion-row class="ion-justify-content-center">
            <ion-col size="12" style="text-align: center; display: flex; justify-content: center;">
                <ion-card *ngIf="user != null" class="card-money">

                    <ion-card-header>
                        <div class="title-card-sim-details"><strong>My account</strong></div>
                        <ion-card-title>{{user.first_name}} {{user.last_name}}</ion-card-title>
                        <ion-card-subtitle>{{user.email}}</ion-card-subtitle>
                    </ion-card-header>

                    <ion-card-content>
                        <ion-label color="primary"><strong>USD: </strong></ion-label>
                        <ion-label style="margin-right: 30px;"><strong>{{user.balance_usd}}</strong></ion-label>
                        <ion-label color="success"><strong>EUR: </strong></ion-label>
                        <ion-label><strong>{{user.balance_eur}}</strong></ion-label>
                    </ion-card-content>
                </ion-card>
            </ion-col>
        </ion-row>
        <ion-row style="border-radius: 5px; ">
            <ion-col size="12">
                <ion-card style="padding: 0px !important; background-color: white;">
                    <ion-grid>
                        <ion-row>
                            <ion-col size="12" style="text-align: center;">
                                <ion-label color="primary">
                                    <div class="title-card-sim-details"><strong>Recharge!</strong></div>
                                </ion-label>
                            </ion-col>
                            <ion-col size="6" style="text-align: center;">
                                <img src="../../../assets/img/paypal.jpg" class="img-option-pay" alt="">
                                <ion-button class="break-word but-option-pay" color="primary" (click)="goToPayPal()">Pay</ion-button>
                            </ion-col>
                            <ion-col size="6" style="text-align: center;">
                                <img src="../../../assets/img/stripe.png" class="img-option-pay" alt="">
                                <ion-button class="break-word but-option-pay" color="success" (click)="goToStripe()">Pay</ion-button>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-card>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col size="12">
                <ion-card style="padding: 0px !important; background-color: white;">
                    <ion-grid>
                        <ion-row>
                            <ion-col size="12" style="text-align: center;">
                                <ion-label color="primary">
                                    <div class="title-card-sim-details"><strong>My Payments</strong></div>
                                </ion-label>
                            </ion-col>
                            <ion-col size="12" *ngIf="existPayments == 1" style="text-align: center;">
                                <img src="../../../assets/img/ghost.svg" height="80px" alt="">
                            </ion-col>
                            <ion-col size="12" *ngIf="existPayments == 1" style="text-align: center;">
                                <ion-label>There is nothing here.</ion-label>
                            </ion-col>
                            <ion-col size="12" *ngIf="existPayments == 2" style="padding-top: 0px;">
                                <ion-list style="border-radius: 5px; padding-top: 0px;">
                                    <ion-item detail *ngFor="let item of paymentsList" style="padding-left: 0px !important;" (click)="goToDetails(item)">
                                        <ion-avatar slot="start" style="height: 30px !important; width: 30px !important;">
                                            <img *ngIf="item.id_stripe_transaction != null" src="../../../assets/img/stripe.svg" height="20px" style="height: 30px !important; width: 30px !important;">
                                            <img *ngIf="item.id_pay_pal_transaction != null" src="../../../assets/img/paypal.svg" height="20px" style="height: 30px !important; width: 30px !important;">
                                        </ion-avatar>
                                        <ion-label>
                                            <h2><strong>{{item.value}} {{item.currency}}</strong></h2>
                                            <h3>{{item.date_generated | date}}</h3>
                                            <p *ngIf="item.id_stripe_transaction != null">{{item.id_stripe_transaction}}</p>
                                            <p *ngIf="item.id_pay_pal_transaction != null">{{item.id_pay_pal_transaction}}</p>
                                        </ion-label>
                                    </ion-item>
                                </ion-list>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-card>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-content>